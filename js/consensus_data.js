var consensus_data = [
   {
    "name": "PrimaryTimeout_3_8_29",
    "values": [
      {
         "year": 29.01, // +0.01
         "position": 3
      },
      {
         "year": 34.01, // +0.01
         "position": 3
      }
    ]
   },
   {
    "name": "Timeout_0_8_29",
    "values": [
      {
         "year": 29.01,
         "position": 0
      },
      {
         "year": 39.01,
         "position": 0
      }
    ]
   },
   {
    "name": "PrimaryTimeout_0_9_40",
    "values": [
      {
         "year": 40.01, // +0.01
         "position": 0
      },
      {
         "year": 45.01,
         "position": 0
      }
    ]
   },
   {
    "name": "Timeout_3_9_37",
    "values": [
      {
         "year": 37.01,  // +0.01
         "position": 3
      },
      {
         "year": 47.01, // +0.01
         "position": 3
      }
    ]
   },
   {
    "name": "PrepRequest_3_8_2", // cons_id - block_id - cons_id (destination)
    "values": [
      {
         "year": 34.022, // decimal +0.02 is destination
         "position": 3
      },
      {
         "year": 35.023, // decimal +0.02 is origin
         "position": 2
      }
    ]
   },
   {
    "name": "PrepRequest_3_8_1", // cons_id - block_id - cons_id (destination)
    "values": [
      {
         "year": 34.021, // decimal +0.02 is destination
         "position": 3
      },
      {
         "year": 36.023, // decimal +0.02 is origin
         "position": 1
      }
    ]
   },
   {
    "name": "PrepRequest_3_8_0", // cons_id - block_id - cons_id (destination)
    "values": [
      {
         "year": 34.020, // decimal is destination
         "position": 3
      },
      {
         "year": 39.023, // decimal is origin
         "position": 0
      }
    ]
   },
   {
    "name": "PrepResponse_2_8_3", // cons_id - block_id - cons_id (destination)
    "values": [
      {
         "year": 35.033, // decimal +0.03 is destination
         "position": 2
      },
      {
         "year": 36.032, // decimal +0.03 is origin
         "position": 3
      }
    ]
   },
   {
    "name": "PrepResponse_1_8_3", // cons_id - block_id - cons_id (destination)
    "values": [
      {
         "year": 36.033, // decimal +0.03 is destination
         "position": 1
      },
      {
         "year": 37.031, // decimal +0.03 is origin
         "position": 3
      }
    ]
   },
   {
    "name": "PrepResponse_1_8_2", // cons_id - block_id - cons_id (destination)
    "values": [
      {
         "year": 36.032, // decimal +0.03 is destination
         "position": 1
      },
      {
         "year": 38.031, // decimal +0.03 is origin
         "position": 2
      }
    ]
   },
   {
    "name": "PrepResponse_1_8_0", // cons_id - block_id - cons_id (destination)
    "values": [
      {
         "year": 36.030, // decimal +0.03 is destination
         "position": 1
      },
      {
         "year": 40.031, // decimal +0.03 is origin
         "position": 0
      }
    ]
   },
   {
    "name": "PrepRequest_0_9_3", // cons_id - block_id - cons_id (destination)
    "values": [
      {
         "year": 45.023, // decimal is destination
         "position": 0
      },
      {
         "year": 46.020, // decimal is origin
         "position": 3
      }
    ]
   },
   {
    "name": "PrepRequest_0_9_2", // cons_id - block_id - cons_id (destination)
    "values": [
      {
         "year": 45.022, // decimal is destination
         "position": 0
      },
      {
         "year": 46.020, // decimal is origin
         "position": 2
      }
    ]
   },
   {
    "name": "PrepRequest_0_9_1", // cons_id - block_id - cons_id (destination)
    "values": [
      {
         "year": 45.021, // decimal is destination
         "position": 0
      },
      {
         "year": 46.020, // decimal is origin
         "position": 1
      }
    ]
   },
   {
    "name": "PrepResponse_1_9_0", // cons_id - block_id - cons_id (destination)
    "values": [
      {
         "year": 46.030, // decimal +0.03 is destination
         "position": 1
      },
      {
         "year": 48.031, // decimal +0.03 is origin
         "position": 0
      }
    ]
   },
   {
    "name": "PrepResponse_1_9_2", // cons_id - block_id - cons_id (destination)
    "values": [
      {
         "year": 46.032, // decimal +0.03 is destination
         "position": 1
      },
      {
         "year": 47.031, // decimal +0.03 is origin
         "position": 2
      }
    ]
   },
   {
    "name": "PrepResponse_1_9_3", // cons_id - block_id - cons_id (destination)
    "values": [
      {
         "year": 46.033, // decimal +0.03 is destination
         "position": 1
      },
      {
         "year": 47.031, // decimal +0.03 is origin
         "position": 3
      }
    ]
   },
   {
    "name": "PrepResponse_3_9_0", // cons_id - block_id - cons_id (destination)
    "values": [
      {
         "year": 46.030, // decimal +0.03 is destination
         "position": 3
      },
      {
         "year": 48.033, // decimal +0.03 is origin
         "position": 0
      }
    ]
   },
   {
    "name": "PrepResponse_3_9_1", // cons_id - block_id - cons_id (destination)
    "values": [
      {
         "year": 46.031, // decimal +0.03 is destination
         "position": 3
      },
      {
         "year": 47.033, // decimal +0.03 is origin
         "position": 1
      }
    ]
   },
   {
    "name": "PrimaryTimeout_2_5_4",
    "values": [
      {
         "year": 2.01, // +0.01
         "position": 0
      },
      {
         "year": 4.01, // +0.01
         "position": 0
      }
    ]
   },
   {
    "name": "PrimaryTimeout_6_6_11",
    "values": [
      {
         "year": 6.01, // +0.01
         "position": 1
      },
      {
         "year": 11.01, // +0.01
         "position": 1
      }
    ]
   },
   {
    "name": "PrimaryTimeout_21_7_26",
    "values": [
      {
         "year": 21.01, // +0.01
         "position": 2
      },
      {
         "year": 26.01, // +0.01
         "position": 2
      }
    ]
   },
   {
    "name": "Timeout_2_6_6_17", // include consensusid before...  begin, block, end
    "values": [
      {
         "year": 6.01, // +0.01
         "position": 2
      },
      {
         "year": 17.01, // +0.01
         "position": 2
      }
    ]
   },
   {
    "name": "Timeout_3_6_6_16", // include consensusid before...  begin, block, end
    "values": [
      {
         "year": 6.01, // +0.01
         "position": 3
      },
      {
         "year": 16.01, // +0.01
         "position": 3
      }
    ]
   },
   {
    "name": "Timeout_0_7_6_17", // include consensusid before...  begin, block, end
    "values": [
      {
         "year": 7.01, // +0.01
         "position": 0
      },
      {
         "year": 17.01, // +0.01
         "position": 0
      }
    ]
   },
   {
    "name": "Timeout_1_18_7_26", // include consensusid before...  begin, block, end
    "values": [
      {
         "year": 18.01, // +0.01
         "position": 1
      },
      {
         "year": 26.01, // +0.01
         "position": 1
      }
    ]
   },
   {
    "name": "Timeout_3_18_7_28", // include consensusid before...  begin, block, end
    "values": [
      {
         "year": 18.01, // +0.01
         "position": 3
      },
      {
         "year": 28.01, // +0.01
         "position": 3
      }
    ]
   },
   {
    "name": "PrepRequest_0_5_1", // cons_id - block_id - cons_id (destination)
    "values": [
      {
         "year": 4.021, // decimal is destination
         "position": 0
      },
      {
         "year": 6.020, // decimal is origin
         "position": 1
      }
    ]
   },
   {
    "name": "PrepRequest_0_5_2", // cons_id - block_id - cons_id (destination)
    "values": [
      {
         "year": 4.022, // decimal is destination
         "position": 0
      },
      {
         "year": 5.020, // decimal is origin
         "position": 2
      }
    ]
   },
   {
    "name": "PrepRequest_0_5_3", // cons_id - block_id - cons_id (destination)
    "values": [
      {
         "year": 4.023, // decimal is destination
         "position": 0
      },
      {
         "year": 5.020, // decimal is origin
         "position": 3
      }
    ]
   },
   {
    "name": "PrepResponse_3_5_1", // cons_id - block_id - cons_id (destination)
    "values": [
      {
         "year": 5.031, // decimal +0.03 is destination
         "position": 3
      },
      {
         "year": 6.033, // decimal +0.03 is origin
         "position": 1
      }
    ]
   },
   {
    "name": "PrepResponse_3_5_0", // cons_id - block_id - cons_id (destination)
    "values": [
      {
         "year": 5.030, // decimal +0.03 is destination
         "position": 3
      },
      {
         "year": 7.033, // decimal +0.03 is origin
         "position": 0
      }
    ]
   },
   {
    "name": "PrepResponse_3_5_2", // cons_id - block_id - cons_id (destination)
    "values": [
      {
         "year": 5.032, // decimal +0.03 is destination
         "position": 3
      },
      {
         "year": 6.033, // decimal +0.03 is origin
         "position": 2
      }
    ]
   },
   {
    "name": "PrepResponse_2_5_3", // cons_id - block_id - cons_id (destination)
    "values": [
      {
         "year": 5.033, // decimal +0.03 is destination
         "position": 2
      },
      {
         "year": 6.032, // decimal +0.03 is origin
         "position": 3
      }
    ]
   },
   {
    "name": "PrepResponse_2_5_0", // cons_id - block_id - cons_id (destination)
    "values": [
      {
         "year": 5.030, // decimal +0.03 is destination
         "position": 2
      },
      {
         "year": 7.032, // decimal +0.03 is origin
         "position": 0
      }
    ]
   },
   {
    "name": "PrepRequest_1_6_0", // cons_id - block_id - cons_id (destination)
    "values": [
      {
         "year": 11.020, // decimal is destination
         "position": 1
      },
      {
         "year": 17.021, // decimal is origin
         "position": 0
      }
    ]
   },
   {
    "name": "PrepRequest_1_6_2", // cons_id - block_id - cons_id (destination)
    "values": [
      {
         "year": 11.022, // decimal is destination
         "position": 1
      },
      {
         "year": 21.021, // decimal is origin
         "position": 2
      }
    ]
   },
   {
    "name": "PrepRequest_1_6_3", // cons_id - block_id - cons_id (destination)
    "values": [
      {
         "year": 11.023, // decimal is destination
         "position": 1
      },
      {
         "year": 12.021, // decimal is origin
         "position": 3
      }
    ]
   },
   {
    "name": "PrepResponse_3_6_0", // cons_id - block_id - cons_id (destination)
    "values": [
      {
         "year": 12.030, // decimal +0.03 is destination
         "position": 3
      },
      {
         "year": 17.032, // decimal +0.03 is origin
         "position": 0
      }
    ]
   },
   {
    "name": "PrepResponse_3_6_1", // cons_id - block_id - cons_id (destination)
    "values": [
      {
         "year": 12.031, // decimal +0.03 is destination
         "position": 3
      },
      {
         "year": 14.033, // decimal +0.03 is origin
         "position": 1
      }
    ]
   },
   {
    "name": "PrepResponse_3_6_2", // cons_id - block_id - cons_id (destination)
    "values": [
      {
         "year": 12.032, // decimal +0.03 is destination
         "position": 3
      },
      {
         "year": 21.033, // decimal +0.03 is origin
         "position": 2
      }
    ]
   },
   {
    "name": "ChangeView_3_6_0_1", // cons_id - block_id - cons_id (destination) - view (1)
    "values": [
      {
         "year": 12.040, // decimal +0.04 is destination
         "position": 3
      },
      {
         "year": 18.043, // decimal +0.04 is origin
         "position": 0
      }
    ]
   },
   {
    "name": "PrepRequest_2_7_0", // cons_id - block_id - cons_id (destination)
    "values": [
      {
         "year": 26.020, // decimal is destination
         "position": 2
      },
      {
         "year": 28.022, // decimal is origin
         "position": 0
      }
    ]
   },
   {
    "name": "PrepRequest_2_7_1", // cons_id - block_id - cons_id (destination)
    "values": [
      {
         "year": 26.021, // decimal is destination
         "position": 2
      },
      {
         "year": 27.022, // decimal is origin
         "position": 1
      }
    ]
   },
   {
    "name": "PrepRequest_2_7_3", // cons_id - block_id - cons_id (destination)
    "values": [
      {
         "year": 26.023, // decimal is destination
         "position": 2
      },
      {
         "year": 27.022, // decimal is origin
         "position": 3
      }
    ]
   },
   {
    "name": "PrepResponse_3_7_0", // cons_id - block_id - cons_id (destination)
    "values": [
      {
         "year": 27.030, // decimal +0.03 is destination
         "position": 3
      },
      {
         "year": 29.033, // decimal +0.03 is origin
         "position": 0
      }
    ]
   },
   {
    "name": "PrepResponse_0_6_1", // cons_id - block_id - cons_id (destination)
    "values": [
      {
         "year": 17.031, // decimal +0.03 is destination
         "position": 0
      },
      {
         "year": 18.030, // decimal +0.03 is origin
         "position": 1
      }
    ]
   },
   {
    "name": "PrepResponse_0_6_3", // cons_id - block_id - cons_id (destination)
    "values": [
      {
         "year": 17.033, // decimal +0.03 is destination
         "position": 0
      },
      {
         "year": 18.030, // decimal +0.03 is origin
         "position": 3
      }
    ]
   },
   {
    "name": "PrepResponse_3_7_1", // cons_id - block_id - cons_id (destination)
    "values": [
      {
         "year": 27.031, // decimal +0.03 is destination
         "position": 3
      },
      {
         "year": 29.033, // decimal +0.03 is origin
         "position": 1
      }
    ]
   },
   {
    "name": "PrepResponse_0_7_2", // cons_id - block_id - cons_id (destination)
    "values": [
      {
         "year": 28.032, // decimal +0.03 is destination
         "position": 0
      },
      {
         "year": 29.030, // decimal +0.03 is origin
         "position": 2
      }
    ]
   },
   {
    "name": "PrepResponse_1_7_2", // cons_id - block_id - cons_id (destination)
    "values": [
      {
         "year": 27.032, // decimal +0.03 is destination
         "position": 1
      },
      {
         "year": 28.031, // decimal +0.03 is origin
         "position": 2
      }
    ]
   },
   {
    "name": "PrepResponse_1_7_3", // cons_id - block_id - cons_id (destination)
    "values": [
      {
         "year": 27.033, // decimal +0.03 is destination
         "position": 1
      },
      {
         "year": 29.031, // decimal +0.03 is origin
         "position": 3
      }
    ]
   },
]

allMessageNames = [];
messageNamesByID = [];
consensus_data.forEach(function(d,i) {
    allMessageNames[i] = d.name;
	messageNamesByID[d.name] = i;
   //console.log("got "+d.name);
});

// orange: "#FFC600" / "#FEC60B"
// purple: "#76448E"

var colorMessages = d3.scale.ordinal()
		.range(["#76448E", "#cccccc", "#76448E", "#cccccc", "#FEC60B", "#FEC60B", "#FEC60B", "#00FF00", "#00FF00",
      "#00FF00", "#00FF00", "#FEC60B","#FEC60B","#FEC60B","#00FF00", "#00FF00", "#00FF00", "#00FF00", "#00FF00",
      "#76448E", "#76448E", "#76448E", "#cccccc", "#cccccc", "#cccccc", "#cccccc", "#cccccc", "#FEC60B","#FEC60B",
      "#FEC60B","#00FF00", "#00FF00", "#00FF00","#00FF00","#00FF00", "#FEC60B", "#FEC60B", "#FEC60B", "#00FF00",
      "#00FF00","#00FF00", "#FF0000", "#FEC60B", "#FEC60B","#FEC60B", "#00FF00", "#00FF00","#00FF00","#00FF00",
      "#00FF00","#00FF00","#00FF00",])
		.domain(allMessageNames);
